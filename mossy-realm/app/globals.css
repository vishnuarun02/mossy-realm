@import "tailwindcss";

:root {
  /* MossyRealm - Sunlit Glade Palette */
  --mossy-bg-main: #2a3f35;
  --mossy-bg-box: #1e3028;
  --mossy-bg-box-alt: #355a45;
  --mossy-border: #e8a54b;
  --mossy-border-glow: #ffc857;
  --mossy-header: #ffeaa7;
  --mossy-header-alt: #fff3c4;
  --mossy-text: #f5f0e1;
  --mossy-text-muted: #c5c0a8;
  --mossy-link: #90ee90;
  --mossy-link-hover: #b8ffb8;
  --mossy-accent: #ff8c42;
}

@theme inline {
  /* Background colors */
  --color-mossy-bg-main: var(--mossy-bg-main);
  --color-mossy-bg-box: var(--mossy-bg-box);
  --color-mossy-bg-box-alt: var(--mossy-bg-box-alt);

  /* Border colors */
  --color-mossy-border: var(--mossy-border);
  --color-mossy-border-glow: var(--mossy-border-glow);

  /* Text colors */
  --color-mossy-header: var(--mossy-header);
  --color-mossy-header-alt: var(--mossy-header-alt);
  --color-mossy-text: var(--mossy-text);
  --color-mossy-text-muted: var(--mossy-text-muted);

  /* Interactive colors */
  --color-mossy-link: var(--mossy-link);
  --color-mossy-link-hover: var(--mossy-link-hover);
  --color-mossy-accent: var(--mossy-accent);
}

/* ============================================ */
/* GLOBAL GRAIN/NOISE OVERLAY SYSTEM           */
/* Makes content panels look like scanned 90s  */
/* pages with subtle film grain / JPG artifacts */
/* ============================================ */

/* 
 * GLOBAL GRAIN OVERLAY
 * 
 * This is ONE overlay that covers the ENTIRE page.
 * It sits ABOVE everything - text, borders, panels, all of it.
 * The grain does not know about components.
 * It treats the whole page as one scanned artifact.
 * 
 * New pages automatically inherit this - no setup required.
 */
#grain-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.26;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 150px 150px;
}

/* ============================================ */
/* 90s WALLPAPER BACKGROUND - Fixed & Dreamy   */
/* ============================================ */

html {
  /* Fallback color while image loads */
  background-color: var(--mossy-bg-main);
}

body {
  /* The wallpaper */
  background-image: url('/vintage-natgeo.jpg');
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;

  /* THE MAGIC: Fixed background - content scrolls over it */
  background-attachment: fixed;

  /* Fallback color */
  background-color: var(--mossy-bg-main);

  /* Text & font */
  color: var(--mossy-text);
  font-family: var(--font-body), 'Lora', Georgia, serif;
  font-size: 17px;
  line-height: 1.7;
  min-height: 100vh;
}

/* Mobile: Use scroll instead of fixed for better performance */
@media (max-width: 768px) {
  body {
    background-attachment: scroll;
    background-size: cover;
  }
}

/* Light overlay - wallpaper blues & greens shine through for that healing vibe */
.wallpaper-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(to bottom,
      rgba(30, 48, 40, 0.35) 0%,
      rgba(42, 63, 53, 0.30) 50%,
      rgba(30, 48, 40, 0.40) 100%);
  pointer-events: none;
  z-index: 0;
}

/* ============================================ */
/* 90s CENTERED SITE CONTAINER                  */
/* ============================================ */

/* Wrapper positions everything */
.site-wrapper {
  position: relative;
  z-index: 1;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  /* More horizontal padding = more wallpaper visible on sides */
  padding: 30px 40px;
}

/* The main "site box" - where all content lives */
.site-container {
  width: 100%;
  /* Reduced from 1100px to show more wallpaper on desktop */
  max-width: 920px;
  background: rgba(30, 48, 40, 0.92);
  border: 4px solid var(--mossy-border);
  box-shadow:
    0 0 0 2px var(--mossy-bg-box),
    0 0 20px rgba(0, 0, 0, 0.5),
    inset 0 0 60px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
}

/* Site header area (title + nav) */
.site-header {
  background: var(--mossy-bg-box);
  border-bottom: 3px solid var(--mossy-border);
  padding: 16px;
  text-align: center;
}

.site-title {
  margin-bottom: 12px;
}

/* Desktop nav - hidden on mobile via Tailwind classes in component */
.site-nav {
  justify-content: center;
  flex-wrap: wrap;
  gap: 8px;
}

/* Main content area */
.site-main {
  flex: 1;
  padding: 16px;
}

/* Site footer area */
.site-footer {
  background: var(--mossy-bg-box);
  border-top: 3px solid var(--mossy-border);
  padding: 16px;
  text-align: center;
}

/* Tablet adjustments */
@media (max-width: 1024px) {
  .site-wrapper {
    padding: 25px 20px;
  }
}

/* Mobile adjustments - wallpaper visible above/below */
@media (max-width: 768px) {
  .site-wrapper {
    /* Vertical padding shows wallpaper above/below content */
    padding: 15px 8px 60px 8px;
    /* Don't force full height - let content determine height */
    min-height: auto;
  }

  .site-container {
    border-width: 3px;
    /* Small top margin, larger bottom margin for wallpaper */
    margin-top: 8px;
    margin-bottom: 40px;
  }

  .site-header,
  .site-main,
  .site-footer {
    padding: 12px;
  }
}

/* ============================================ */
/* END SITE CONTAINER STYLES                    */
/* ============================================ */

/* Headings */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-heading), 'Cinzel', Georgia, serif;
  color: var(--mossy-header);
  line-height: 1.3;
}

/* Retro link styles */
a {
  color: var(--mossy-link);
  text-decoration: underline;
  transition: color 0.2s ease;
}

a:hover {
  color: var(--mossy-link-hover);
  text-shadow: 0 0 8px var(--mossy-link);
}

/* Retro scrollbar */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: var(--mossy-bg-box);
  border: 2px solid var(--mossy-border);
}

::-webkit-scrollbar-thumb {
  background: var(--mossy-border);
  border: 2px solid var(--mossy-bg-box);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--mossy-border-glow);
}

/* Selection highlight */
::selection {
  background: var(--mossy-border);
  color: var(--mossy-bg-box);
}

/* Utility classes for retro effects */
.retro-glow {
  text-shadow: 0 0 10px currentColor;
}

.retro-shadow {
  box-shadow:
    4px 4px 0 var(--mossy-bg-box),
    6px 6px 0 var(--mossy-border);
}

/* Dotted pattern background (subtle) */
.dotted-bg {
  background-image: radial-gradient(var(--mossy-bg-box-alt) 1px,
      transparent 1px);
  background-size: 20px 20px;
}

/* Font utility classes using CSS variables from next/font */
.font-display {
  font-family: var(--font-display), 'Cinzel Decorative', serif;
}

.font-heading {
  font-family: var(--font-heading), 'Cinzel', serif;
}

.font-nav {
  font-family: var(--font-nav), 'Cormorant', serif;
}

.font-body {
  font-family: var(--font-body), 'Lora', serif;
}

.font-accent {
  font-family: var(--font-accent), 'Mystery Quest', cursive;
}

/* ============================================ */
/* MARQUEE STYLES - 90s Flowing Text           */
/* ============================================ */

.marquee-container {
  background: var(--mossy-bg-box);
  border-bottom: 2px solid var(--mossy-border);
  padding: 10px 0;
  overflow: hidden;
  /* Prevent text selection for cleaner UX */
  user-select: none;
  -webkit-user-select: none;
}

.marquee-content {
  color: var(--mossy-border);
  font-family: var(--font-nav), 'Cormorant', serif;
  font-size: 1.1rem;
  white-space: nowrap;
  /* Slow, gentle animation - 30s per cycle */
  animation: marquee-scroll 30s linear infinite;
  /* Pause on hover - very 90s */
  animation-play-state: running;
}

.marquee-content:hover {
  animation-play-state: paused;
}

@keyframes marquee-scroll {
  0% {
    transform: translateX(100%);
  }

  100% {
    transform: translateX(-100%);
  }
}

/* Right-to-left variant (for footer) */
.marquee-content-rtl {
  animation-name: marquee-scroll-rtl !important;
}

@keyframes marquee-scroll-rtl {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100%);
  }
}

/* Mobile: Slightly faster for shorter viewport */
@media (max-width: 768px) {
  .marquee-content {
    animation-duration: 25s;
    font-size: 1rem;
  }

  .marquee-container {
    padding: 8px 0;
  }
}

/* ============================================ */
/* SCROLLBOX STYLES - 90s Independent Scrolling */
/* ============================================ */

.scrollbox-content {
  overflow-y: auto;
  overflow-x: hidden;
  /* Force visible scrollbar */
  scrollbar-width: thin;
  scrollbar-color: var(--mossy-border) var(--mossy-bg-box);
}

/* Webkit (Chrome, Safari, Edge) scrollbar styling */
.scrollbox-content::-webkit-scrollbar {
  width: 14px;
}

.scrollbox-content::-webkit-scrollbar-track {
  background: var(--mossy-bg-box);
  border: 1px solid var(--mossy-bg-box-alt);
}

.scrollbox-content::-webkit-scrollbar-thumb {
  background: var(--mossy-bg-box-alt);
  border: 2px solid var(--mossy-border);
}

.scrollbox-content::-webkit-scrollbar-thumb:hover {
  background: var(--mossy-border);
}

/* Scroll indicator label */
.scroll-indicator {
  text-align: center;
  font-family: var(--font-nav), 'Cormorant', serif;
  font-size: 0.75rem;
  color: var(--mossy-text-muted);
  padding: 4px 0;
  background: var(--mossy-bg-box);
  border-top: 1px solid var(--mossy-bg-box-alt);
  letter-spacing: 2px;
}

/* Mobile: Adjust scrollbox for touch */
@media (max-width: 768px) {
  .scrollbox-content {
    /* Slightly taller on mobile for better touch scrolling */
    max-height: 220px !important;
    /* Enable momentum scrolling on iOS */
    -webkit-overflow-scrolling: touch;
  }

  .scrollbox-content::-webkit-scrollbar {
    width: 12px;
  }

  .scroll-indicator {
    font-size: 0.7rem;
  }
}

/* ============================================ */
/* REALM RADIO PLAYER STYLES                    */
/* ============================================ */

/* Visualizer bar animation */
@keyframes visualizer-bounce {
  0% {
    transform: scaleY(0.3);
  }
  100% {
    transform: scaleY(1);
  }
}

/* Mobile sheet slide up animation */
@keyframes slide-up {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out forwards;
}

/* Pulse animation for status dot */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.4;
  }
}

.animate-pulse {
  animation: pulse 1.5s ease-in-out infinite;
}

/* Blink animation for "click to play" indicator */
@keyframes blink {
  0%, 100% {
    opacity: 1;
    box-shadow: 0 0 8px var(--mossy-accent);
  }
  50% {
    opacity: 0.3;
    box-shadow: 0 0 2px var(--mossy-accent);
  }
}

/* Custom range slider styling */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  cursor: pointer;
}

input[type="range"]::-webkit-slider-runnable-track {
  height: 8px;
  background: var(--mossy-bg-box);
  border: 2px solid var(--mossy-border);
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  background: var(--mossy-border);
  border: 2px solid var(--mossy-border-glow);
  margin-top: -6px;
  cursor: pointer;
}

input[type="range"]::-webkit-slider-thumb:hover {
  background: var(--mossy-border-glow);
  box-shadow: 0 0 8px var(--mossy-border-glow);
}

input[type="range"]::-moz-range-track {
  height: 8px;
  background: var(--mossy-bg-box);
  border: 2px solid var(--mossy-border);
}

input[type="range"]::-moz-range-thumb {
  width: 12px;
  height: 12px;
  background: var(--mossy-border);
  border: 2px solid var(--mossy-border-glow);
  border-radius: 0;
  cursor: pointer;
}

input[type="range"]::-moz-range-thumb:hover {
  background: var(--mossy-border-glow);
  box-shadow: 0 0 8px var(--mossy-border-glow);
}

/* Mobile bar height utility */
.h-15 {
  height: 60px;
}

/* Border width utilities */
.border-3 {
  border-width: 3px;
}

/* Mobile bottom padding to account for player bar */
@media (max-width: 768px) {
  .site-wrapper {
    padding-bottom: 80px !important;
  }
}

/* ============================================ */
/* WEBAMP STYLES                                */
/* ============================================ */

/* Ensure Webamp renders above other content but below grain overlay */
#webamp {
  z-index: 100 !important;
}

/* ============================================ */
/* NAVIGATION DROPDOWN STYLES                   */
/* ============================================ */

.nav-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 160px;
  background: var(--mossy-bg-box);
  border: 2px solid var(--mossy-border);
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.3);
  z-index: 100;
  display: flex;
  flex-direction: column;
}

.nav-dropdown-item {
  font-family: var(--font-nav), 'Cormorant', serif;
  padding: 10px 16px;
  color: var(--mossy-link);
  text-decoration: none;
  border-bottom: 1px solid var(--mossy-bg-box-alt);
  transition: background 0.15s ease, color 0.15s ease;
  font-size: 0.95rem;
}

.nav-dropdown-item:last-child {
  border-bottom: none;
}

.nav-dropdown-item:hover {
  background: var(--mossy-border);
  color: var(--mossy-bg-box);
  text-decoration: none;
}

.nav-dropdown-item-active {
  background: var(--mossy-bg-box-alt);
  color: var(--mossy-header);
  border-left: 3px solid var(--mossy-border);
}

/* Mobile adjustments for dropdowns */
@media (max-width: 768px) {
  .nav-dropdown {
    position: static;
    box-shadow: none;
    border-top: none;
  }
}